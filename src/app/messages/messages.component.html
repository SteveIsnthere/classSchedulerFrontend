<h2 mat-dialog-title>Messages</h2>
<mat-dialog-content>
  <ng-container *ngFor="let message of messageService.messages">
    <mat-card class="message-card">
      <mat-card-header>
        <mat-card-title>
          {{message.senderNickName}}
        </mat-card-title>
        <mat-card-subtitle>
          {{getTimeSincePosted(message.time)}}
        </mat-card-subtitle>
        <div style="flex: 1"></div>
        <button (click)="deleteMessage(message._id)" color="primary" mat-stroked-button>Set as read</button>
      </mat-card-header>

      <mat-card-content>
        <div style="height: 10px"></div>
        <p style="color: black">{{message.content}}</p>
        <div></div>
      </mat-card-content>
      <mat-card-actions>
        <mat-form-field appearance="fill" class="reply-text-field">
          <mat-label>Leave a reply</mat-label>
          <textarea #input matInput placeholder="Ex. It makes me feel..."></textarea>
        </mat-form-field>
        <div style="width: 10px"></div>
        <button (click)="replyToMessage(message, input)" color="primary" mat-raised-button>Send</button>


      </mat-card-actions>
    </mat-card>
  </ng-container>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close></button>
  <button (click)="clearMessages()" [mat-dialog-close]="true" cdkFocusInitial mat-button>Clear all</button>
</mat-dialog-actions>
